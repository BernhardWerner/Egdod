  <!DOCTYPE html>
<html lang="en">
 <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Egdod test</title>
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/Cindy.js"></script>
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/CindyGL.js"></script>
  </head>

<body style="font-family:Palatino; margin:0; font-size:16pt">







<script id='csinit' type='text/x-cindyscript'>
strokeSampleRateEBOW = 256;


dots = apply(1..10,
  createRootStrokeObject([lerp(canvasLeft, canvasRight, #, 0, 11), canvasCenter.y + 3 * (random() * 2 - 1)], aliceColor.red, aliceColor.red, 1);
);
forall(dots,
  #.stroke = sampleCircle(0.4, 2*pi);
  #.lineSize = 0;
  #.scale = 1;
  #.drawEnd = 1;
);
polyCoeffs = dividedDifferences(apply(dots, #.pos));


polyFunc(x) := newtonInterpolation(apply(dots, #.pos), polyCoeffs, x);



curve = createRootStrokeObject([0,0], aliceColor.blue, (1,1,1), 0);
curve.stroke = sampleFunctionGraph("polyFunc", canvasLeft, canvasRight);


curve.lineSize = 5;
curve.drawEnd = 1;






tracks = [
  setupAnimationTrack(0, 1)
];





fpsHistory = [];
fpsMemoryLength = 60;
fpsPrecision = 2;

fpsDisplay = {
  "pos": canvasCorners.tr + (-3, -3),
  "text": 0
};
playanimation();
setupTime();
</script>

<script src="egdod.js"></script>




<script id='csdraw' type='text/x-cindyscript'>
drawStrokeObject(curve);
forall(dots, drawStrokeObject(#));


drawtext(fpsDisplay.pos, fpsDisplay.text,size->30);



</script>



<script id='cstick' type='text/x-cindyscript'>
  delta = deltaTime();
  fpsHistory = fpsHistory :> 1 / delta;
  if(length(fpsHistory) >= fpsMemoryLength,
    fpsHistory = bite(fpsHistory);
  );
  fpsDisplay.text = format(sum(fpsHistory) / length(fpsHistory), fpsPrecision);

  

  updateAnimationCascade(tracks, delta);

  dots_1.pos = dots_1.pos + (0, cos(now()) * delta);
  dots_3.pos = dots_3.pos + (0, 2 * cos(now()) * delta);
  dots_5.pos = dots_5.pos + (0, 0.5 * cos(now()) * delta);
  dots_(-1).pos = dots_(-1).pos + (0, 2 * sin(now()) * cos(now()) * delta);

  polyCoeffs = dividedDifferences(apply(dots, #.pos));
  curve.stroke = sampleFunctionGraph("polyFunc", canvasLeft, canvasRight);

</script>


<script id='csmousemove' type='text/x-cindyscript'>
</script>

<script id='csmousedown' type='text/x-cindyscript'>
</script>

<script id='csmousedrag' type='text/x-cindyscript'>
</script>

<script id='csmouseup' type='text/x-cindyscript'>
</script>

<!-- <script id='cskeydown' type='text/x-cindyscript'>
</script> -->


<canvas id="CSCanvas" align="left" valign="top" width="800" height="600" style="border:0px solid #000000;"></canvas>





<script>
  cindy = createCindy({canvasname:"CSCanvas",
    scripts:"cs*",
    images: {
    }
  });

</script>







</body>

</html>

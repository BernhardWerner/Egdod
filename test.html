  <!DOCTYPE html>
<html lang="en">
 <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Egdod test</title>
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/Cindy.js"></script>
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/CindyGL.js"></script>
  </head>

<body style="font-family:Palatino; margin:0; font-size:16pt">







<script id='csinit' type='text/x-cindyscript'>


inputString = "$\displaystyle@\int@_{@i@@=@@1@}^@n@@\sin@@(@@x@@)@\enspace @d@@x@$";
//inputString = "$\left(\begin{matrix}@1@&@2@&@3@\\@4@&@5@&@6@\\@7@&@8@&@9@\end{matrix}\right)$";
//inputString = "$\displaystyle@\sum@_{@i@@=@@0@}^@\infty@\:@q@^@i@@=@\frac{@1@}{@1@@-@@q@}$";

texProgress = 0;

typeTex(string, progress) := (
  regional(cut, n, inserts, k);
  
  cut = tokenize(string, "@");
  n = floor(length(cut) / 2);
  k = round(lerp(n, 0, clamp(progress, 0, 1)));

  inserts = const(2 * n - 2 * k, "") ++ flatten(zip(const(k, "\color{white}{"), const(k, "}"))) :> "";
  
  sum(flatten(zip(cut, inserts)));
);

outputString = typeTex(inputString, texProgress);


tracks = [
  setupAnimationTrack(1, 2)
];


playanimation();
setupTime();
</script>

<script src="egdod.js"></script>




<script id='csdraw' type='text/x-cindyscript'>

drawtext(canvasCenter, outputString, size->50);

</script>



<script id='cstick' type='text/x-cindyscript'>
delta = deltaTime();

updateAnimationCascade(tracks, delta);

outputString = typeTex(inputString, tracks_1.progress);

</script>


<script id='csmousemove' type='text/x-cindyscript'>
</script>

<script id='csmousedown' type='text/x-cindyscript'>
</script>

<script id='csmousedrag' type='text/x-cindyscript'>
</script>

<script id='csmouseup' type='text/x-cindyscript'>
</script>

<!-- <script id='cskeydown' type='text/x-cindyscript'>
</script> -->


<canvas id="CSCanvas" align="left" valign="top" width="800" height="600" style="border:1px solid #000000;"></canvas>





<script>
  cindy = createCindy({canvasname:"CSCanvas",
    scripts:"cs*",
    images: {
    },
    use:["katex"]
  });

</script>







</body>

</html>

  <!DOCTYPE html>
<html lang="en">
 <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Egdod test</title>
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/Cindy.js"></script>
    <script type="text/javascript" src="https://cindyjs.org/dist/v0.8/CindyGL.js"></script>
  </head>

<body style="font-family:Palatino; margin:0; font-size:16pt">







<script id='csinit' type='text/x-cindyscript'>
  // ************************************************************************************************
  // Gets the ALICE and Toolbox colours.
  // ************************************************************************************************
  toolColorTable = dict(blue      -> [(2, 88,155),  (0, 70,124),  (0, 50, 89),   (0, 27, 48),   (0,  5,  9)]   / 255,
                        red       -> [(255,193,148), (247,156, 90),   (227,114, 34),   (172, 76,  8),   (114, 47,  0)]    / 255,
                        green     -> [(237,247, 81),  (215,228, 15),   (162,173,  0),   (119,127,  0),   (61, 65,  0)]   / 255,
                        grey      -> [(224,224,224), (172,172,172), (128,128,128), (78,78,78),   (35,35,35)]   / 255
  );
  toolColor(name, bright) := get(toolColorTable, name)_(3 - bright);
  toolColor(name)         := get(toolColorTable, name)_3;

  aliceColorTable = dict(blue      -> [(82,136,188),  (48,110,171),  (12,90,166),   (9,69,128),   (5,54,100)]   / 255,
                         orange    -> [(255,185,99),  (255,166,57),  (255,140,0),   (197,108,0),  (155,85,0)]   / 255,
                         violet    -> [(179,109,212), (158,62,204),  (145,19,204),  (123,5,178),  (95,3,138)]   / 255,
                         turquoise -> [(90,177,171),  (24,156,146),  (0,128,119),   (0,95,88),    (0,60,56)]    / 255,
                         teal      -> [(90,177,171),  (24,156,146),  (0,128,119),   (0,95,88),    (0,60,56)]    / 255,
                         red       -> [(253,105,109), (236,62,66),   (215,19,24),   (173,6,10),   (133,0,3)]    / 255,
                         green     -> [(131,222,92),  (99,204,53),   (67,186,16),   (48,150,5),   (34,116,0)]   / 255,
                         minion    -> [(255,242,153), (255,237,114), (245,224,80),  (221,198,44), (170,151,22)] / 255,
                         brown     -> [(186,104,43),  (152,74,16),   (117,50,0),    (80,34,0),    (42,18,0)]    / 255,
                         pink      -> [(255,246,255), (253,181,253), (248,131,248), (240,90,240), (225,52,225)] / 255,
                         grey      -> [(224,224,224), (172,172,172), (128,128,128), (78,78,78),   (36,35,35)]   / 255
  );
  aliceColor(name, bright) := get(aliceColorTable, name)_(3 - bright);
  aliceColor(name)         := get(aliceColorTable, name)_3;
  
// **********************************************************************************************************
// Start ****************************************************************************************************
// **********************************************************************************************************
canvascorners = apply(screenbounds(), #.xy); //LO, RO, RU, LU
canvascenter  = 0.5 * canvascorners_1 + 0.5 * canvascorners_3;
canvaswidth   = dist(canvascorners_1, canvascorners_2);
canvasheight  = dist(canvascorners_1, canvascorners_4);
screenMouse() := [(mouse().x - canvascorners_1.x) / canvaswidth, (mouse().y - canvascorners_1.y) / canvasheight];


startButton = {
  "position": (canvascorners_3 + [-4, 2]),
  "size":     [2.5, 1.5],
  "label":    "play",
  "textSize": 20,
  "colors":   (apply(0..2, aliceColor("blue", 1 - #))),
  "corner":   0.4,
  "pressed":  false
};






testText = "Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quidem, dolor beatae architecto impedit minus, magnam dolorem eos eligendi nam possimus tenetur nesciunt placeat maxime repellat hic laudantium quo, sequi assumenda? Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quidem, dolor beatae architecto impedit minus, magnam dolorem eos eligendi nam possimus tenetur nesciunt placeat maxime repellat hic laudantium quo, sequi assumenda? Lorem ipsum dolor, sit amet consectetur adipisicing elit. Quidem, dolor beatae architecto impedit minus, magnam dolorem eos eligendi nam possimus tenetur nesciunt placeat maxime repellat hic laudantium quo, sequi assumenda?";







animationTrack1 = setupAnimationTrack(0, 3);
animationTrack2 = setupAnimationTrack(1, 2);

</script>
<script src="egdodColor.js"></script>
<script src="egdodArray.js"></script>
<script src="egdodUI.js"></script>
<script src="egdodMath.js"></script>
<script src="egdodAnim.js"></script>
<script src="egdodShader.js"></script>





<div id='cindyScripts'>
  <script id='csdraw' type='text/x-cindyscript'>
  drawButton(startButton);
    
  drawWrappedText(canvascorners_1 + (1,-1), testText, round(lerp(5, 100, screenMouse().x)), 1, 20, "left", (0,0,0), "Palatino");
  </script>
</div>

<script type='text/javascript'>
scriptList = [
    "init",
    "draw",
];


</script>




<script id='cstick' type='text/x-cindyscript'>
  delta = deltaTime();
  updateAnimationTrack(animationTrack1, delta);
  updateAnimationTrack(animationTrack2, delta);





</script>



<script id='csmousedown' type='text/x-cindyscript'>
  if(mouseInButton(startButton),
    startButton.pressed = true;
    
    playanimation();
    setupTime();
  );  
  
</script>

<script id='csmousedrag' type='text/x-cindyscript'>
</script>

<script id='csmouseup' type='text/x-cindyscript'>
</script>


<canvas id="CSCanvas" align="left" valign="top" width="800" height="600" style="border:0px solid #000000;"></canvas>




<script>
  cindy = createCindy({canvasname:"CSCanvas",
    scripts: "cs*",
    images: {
        img1: "img1.png",
        img2: "img2.png"
    }
  });
  
</script>







</body>

</html>
